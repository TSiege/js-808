(this["webpackJsonpjs-808"]=this["webpackJsonpjs-808"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),l=a.n(s),c=a(5),i=a(6),o=a(1),u=a(2),p=a(3),v=a(4),h=a(7),m=a.n(h),f=a(11),g=a(10),y=(a(18),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).toggleOn=function(){var t=e.props;(0,t.toggleStepState)(t.step)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.isOn?"on":"";return r.a.createElement("button",{className:"step-button ".concat(this.props.playing," ").concat(e),onClick:this.toggleOn})}}]),a}(r.a.Component)),d=(a(19),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).toggleStepState=function(){var t=Object(g.a)(m.a.mark((function t(a){var n,r,s,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.sequence,s=n.name,l=Object(f.a)(r),!l[a]&&e.playEffect(),e.props.toggleSequence(s,a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"playEffect",value:function(){console.log("".concat(this.props.name," sound!"))}},{key:"componentDidUpdate",value:function(e){Number.isInteger(e.step)&&e.isPlaying&&(this.props.sequence[e.step]&&this.playEffect())}},{key:"renderStepButtons",value:function(){for(var e=this.props,t=e.step,a=e.sequence,n=[],s=0;s<16;s++){var l=t===s?"playing":"";n.push(r.a.createElement(y,{key:s,step:s,isOn:a[s],playing:l,toggleStepState:this.toggleStepState}))}return n}},{key:"render",value:function(){return r.a.createElement("div",{className:"track"},r.a.createElement("h3",null,this.props.name),r.a.createElement("span",{className:"step-buttons"},this.renderStepButtons()))}}]),a}(r.a.Component)),S=(a(20),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({value:t}),n.props.onSelect(t)},n.state={value:n.props.sequences[0]},n}return Object(u.a)(a,[{key:"renderOptions",value:function(){return this.props.sequences.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))}},{key:"render",value:function(){return r.a.createElement("select",{className:"Sequence",value:this.state.value,onChange:this.handleChange},this.renderOptions())}}]),a}(r.a.Component));function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;return 60/e*4/16*1e3}function O(e){return JSON.parse(JSON.stringify(e))}var E=["Kick","Snare","Open Hat","Closed Hat"],k=["Sequence 1","Sequence 2","Sequence 3","None"],w={"Sequence 1":{Kick:[!1,!0,!1,!1,!0,!0,!1,!0,!1,!1,!1,!1,!0,!1,!0,!1],Snare:[!0,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!0,!1],"Open Hat":[!1,!1,!0,!1,!0,!1,!1,!0,!1,!0,!1,!1,!0,!1,!0,!1],"Closed Hat":[!0,!1,!1,!0,!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!0]},"Sequence 2":{Kick:[!1,!0,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1,!0,!1],Snare:[!1,!1,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!0,!1],"Open Hat":[!1,!0,!0,!1,!0,!1,!1,!0,!1,!0,!1,!0,!0,!1,!0,!1],"Closed Hat":[!0,!1,!1,!0,!0,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!0]},"Sequence 3":{Kick:[!0,!0,!1,!1,!0,!1,!0,!0,!1,!1,!1,!0,!0,!1,!0,!1],Snare:[!0,!0,!1,!0,!1,!0,!1,!0,!1,!1,!0,!0,!1,!0,!0,!1],"Open Hat":[!1,!1,!0,!1,!1,!1,!1,!0,!1,!0,!1,!0,!1,!1,!0,!1],"Closed Hat":[!1,!1,!1,!0,!0,!1,!0,!0,!1,!1,!0,!1,!0,!1,!1,!0]},None:{Kick:new Array(16).fill(!1),Snare:new Array(16).fill(!1),"Open Hat":new Array(16).fill(!1),"Closed Hat":new Array(16).fill(!1)}},j=(a(21),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).interval=function(){var e=n.state.step;null===e||15===e?n.setState({step:0}):n.setState({step:e+1})},n.stop=function(){var e=n.state.interval;clearInterval(e),n.setState({interval:null,isPlaying:!1,step:null})},n.togglePlay=function(){var e=n.state,t=e.isPlaying,a=e.interval,r=e.bpm;if(t)clearInterval(a),n.setState({isPlaying:!1,interval:null});else{var s=setInterval(n.interval,b(r));n.setState({isPlaying:!0,interval:s})}},n.updateBpm=function(e){var t=e.target.value,a=n.state,r=a.interval,s=a.isPlaying;if(!isNaN(Number(t)))if(s){clearInterval(r);var l=setInterval(n.interval,b(t));n.setState({interval:l,bpm:t})}else n.setState({bpm:t})},n.selectSequence=function(e){n.setState(Object(i.a)({},O(w[e])))},n.toggleSequence=function(e,t){var a=O(n.state[e]),r=a[t];a[t]=!r,n.setState(Object(c.a)({},e,a))},n.state=Object(i.a)({bpm:128,step:null,interval:null,isPlaying:!1},O(w["Sequence 1"])),n}return Object(u.a)(a,[{key:"renderPlayButton",value:function(){var e=this.state.isPlaying?r.a.createElement("svg",{width:"15",height:"15",id:"Capa_1",viewBox:"0 0 424.236 424.236",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{id:"path-1_5_",d:"m247.471 0h176.765v424.236h-176.765z",transform:"translate(9 2)"}),r.a.createElement("path",{id:"path-1_4_",d:"m0 0h176.765v424.236h-176.765z",transform:"translate(2 2)"})):r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 494.942 494.942",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"m35.353 0 424.236 247.471-424.236 247.471z"}));return r.a.createElement("button",{className:"play",onClick:this.togglePlay},e)}},{key:"renderSteps",value:function(){for(var e=this.state.step,t=[],a=0;a<16;a++){var n=e===a?"playing":"";t.push(r.a.createElement("span",{key:a,className:"step ".concat(n)},a+1))}return t}},{key:"renderTracks",value:function(){var e=this,t=this.state,a=t.step,n=t.isPlaying;return E.map((function(t,s){var l=e.state[t];return r.a.createElement(d,{key:s,name:t,step:a,isPlaying:n,sequence:l,toggleSequence:e.toggleSequence})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"controller"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"JS-808"),r.a.createElement("span",{className:"toolbar"},r.a.createElement("button",{className:"stop",onClick:this.stop},r.a.createElement("svg",{width:"15",height:"15",id:"Layer_1",viewBox:"0 0 506.1 506.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"m489.609 0h-473.118c-9.108 0-16.491 7.383-16.491 16.491v473.118c0 9.107 7.383 16.491 16.491 16.491h473.119c9.107 0 16.49-7.383 16.49-16.491v-473.118c0-9.108-7.383-16.491-16.491-16.491z"}))),this.renderPlayButton(),r.a.createElement("input",{value:this.state.bpm,onChange:this.updateBpm}),r.a.createElement("span",{className:"bpm"},"BPM"),r.a.createElement(S,{sequences:k,onSelect:this.selectSequence}))),r.a.createElement("div",{className:"steps"},this.renderSteps()),r.a.createElement("section",{className:"tracks"},this.renderTracks()))}}]),a}(r.a.Component));a(22);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.39e59102.chunk.js.map